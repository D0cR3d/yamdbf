{"version":3,"sources":["util/DeprecatedClassDecorator.ts"],"names":[],"mappings":";;AAEA;;;;;GAKG;AACH,yBAAuE,GAAG,aAAoB;IAE7F,IAAI,OAAQ,eAAuB,CAAC,SAAS,KAAK,WAAW;QAAG,eAAuB,CAAC,SAAS,GAAG,EAAE,CAAC;IACvG,MAAM,SAAS,GAAgC,eAAuB,CAAC,SAAS,CAAC;IACjF,IAAI,OAAO,GAAW,aAAa,CAAC,CAAC,CAAC,CAAC;IAEvC,gCAAgC,OAAe;QAE9C,IAAI,SAAS,CAAC,OAAO,CAAC;YAAE,OAAO;QAC/B,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;QAC1B,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;IACpD,CAAC;IAED,kBAAkB,MAAS;QAE1B,OAAO,KAAM,SAAQ,MAAM;YAE1B,YAAmB,GAAG,IAAW;gBAEhC,sBAAsB,CAAC,OAAO,CAAC,CAAC;gBAChC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;YAChB,CAAC;SACD,CAAC;IACH,CAAC;IAED,IAAI,OAAO,OAAO,KAAK,QAAQ,EAC/B;QACC,MAAM,CAAC,MAAM,CAAC,GAAQ,aAAoB,CAAC;QAC3C,OAAO,GAAG,WAAW,MAAM,CAAC,IAAI,0DAA0D,CAAC;QAE3F,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC;KACxB;;QACI,OAAO,QAAQ,CAAC;AACtB,CAAC;AAjCD,0CAiCC","file":"DeprecatedClassDecorator.js","sourcesContent":["export function deprecatedClass(message: string): ClassDecorator;\nexport function deprecatedClass<T>(target: T): T;\n/**\n * Logs a deprecation warning for the decorated class if\n * an instance is created\n * @param {string} [message] Class deprecation message\n * @returns {ClassDecorator}\n */\nexport function deprecatedClass<T extends new (...args: any[]) => any>(...decoratorArgs: any[]): any\n{\n\tif (typeof (deprecatedClass as any).warnCache === 'undefined') (deprecatedClass as any).warnCache = {};\n\tconst warnCache: { [key: string]: boolean } = (deprecatedClass as any).warnCache;\n\tlet message: string = decoratorArgs[0];\n\n\tfunction emitDeprecationWarning(warning: string): void\n\t{\n\t\tif (warnCache[warning]) return;\n\t\twarnCache[warning] = true;\n\t\tprocess.emitWarning(warning, 'DeprecationWarning');\n\t}\n\n\tfunction decorate(target: T): T\n\t{\n\t\treturn class extends target\n\t\t{\n\t\t\tpublic constructor(...args: any[])\n\t\t\t{\n\t\t\t\temitDeprecationWarning(message);\n\t\t\t\tsuper(...args);\n\t\t\t}\n\t\t};\n\t}\n\n\tif (typeof message !== 'string')\n\t{\n\t\tconst [target]: [T] = decoratorArgs as any;\n\t\tmessage = `Class \\`${target.name}\\` is deprecated and will be removed in a future release`;\n\n\t\treturn decorate(target);\n\t}\n\telse return decorate;\n}\n"],"sourceRoot":"../../src"}